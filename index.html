<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=640" />

    <link rel="stylesheet" href="stylesheets/core.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/mobile.css" media="handheld, only screen and (max-device-width:640px)"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
    <style type="text/css">
      .konami-logo{
        font-size: 42px;
      }
      .description{
        font-size: 24px;
      }
      .record{
        font-size: 18px;
      }
    </style>

    <title>konami-code by saitodisse</title>
  </head>

  <body>
    <a id="forkme_banner" href="https://github.com/saitodisse/jQueryPluginTests">View on GitHub</a>
    <div class="shell">

      <header>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <h1>konami-code</h1>
            <h2>konami-code, konami</h2>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
      </header>

      <span class="banner-fix"></span>

      <section id="main_content">
        <h3>

<br>
<br>
<h3>
  <div class="konami-logo">KONAMI</div>
  <div class="description">Start pressing your keys now...</div>
  <div class="record"></div>
  <button>Disable Konami Code</button>

<pre><code>UP, UP, DOWN, DOWN,
LEFT, RIGHT, LEFT, RIGHT,
B, A, START</code></pre>
      </section>

      <footer>
        <span class="ribbon-outer">
          <span class="ribbon-inner">
            <p>this project by <a href="https://github.com/saitodisse">saitodisse</a> can be found on <a href="https://github.com/saitodisse/jQueryPluginTests">GitHub</a></p>
          </span>
          <span class="left-tail"></span>
          <span class="right-tail"></span>
        </span>
        <p>Generated with <a href="http://pages.github.com">GitHub Pages</a> using Merlot</p>
        <span class="octocat"></span>
      </footer>

    </div>

  <!-- plug-in extracted to another file -->
  <script type="text/javascript" src="javascripts/modernizr.js"></script>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script type="text/javascript" src="javascripts/headsmart.min.js"></script>
  <script type="text/javascript" src="js/jquery.konami.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $('#main_content').headsmart();

      $.konami();

      var record;

      var logRecord = function(executedTime){
        if(record === undefined){
          record = executedTime;
        }
        else if(executedTime < record){
          record = executedTime;
        }

        $(".record").text("Your record: " + record + "ms");
      }

      $(window).on("konami.success", function(event, params){
        console.log("konami.success");
        $(".konami-logo").css("color", "green");
        logRecord(params.executedTime);
        $(".description").text(params.executedTime + "ms");
      });

      $(window).on("konami.fail", function(event, params){
        $(".konami-logo").css("color", "red");
        $(".description").text("try again...");
        console.log("konami.fail");
      });

      $(window).on("konami.progress", function(event, params){
        $(".konami-logo").css("color", "#7C334F");
        $(".description").text(".");
        console.log(params.expected,
                    params.received,
                    params.index);
      });

      $(window).on("konami.enabled", function(){
          $("button").text("Disable Konami Code");
      });

      $(window).on("konami.disabled", function(){
          $("button").text("Enable Konami Code");
      });

      $("button").click(function(){
        if($(this).text() === "Disable Konami Code"){
          $.konami.off();
        }
        else{
          $.konami();
        }

      });
    })
  </script>
  </body>
</html>
