<html>
<head>
  <title>Typing Skill Training Sandbox</title>
  <meta charset="UTF-8">
  <style type="text/css">
    .boxed{
      border-color: #bbb;
      border-width: 2px;
      border-style: solid;
      margin: 15px;
      padding: 5px;
      background-color: #eee;
    }
  </style>
</head>
<body>
  <h1>Typing Skill Training Sandbox</h1>

  <p>$("#textarea1").typingSkillTraining</p>

  <div>
    <textarea id="textarea1"></textarea>
    <div class="boxed" id="enableTypingSkillTraining1">()</div>
    <div class="boxed" id="disableTypingSkillTraining1">$("#textarea1").data("typingSkillTraining").off()</div>
    <p>events:</p>
    <div class="boxed" id="enabled">.enabled</div>
    <div class="boxed" id="disabled">.disabled</div>
    <div class="boxed" id="keyup">.keyup</div>
    .progress: 
      <pre id="progress">&nbsp;</pre>
    <div class="boxed" id="fail">.fail</div>
    .success: 
      <pre id="success">&nbsp;</pre>
  </div>

  <script type="text/javascript" src="../../bower_components/jquery/jquery.js"></script>
  <script type="text/javascript" src="../../bower_components/jquery-color/jquery.color.js"></script>
  <script type="text/javascript" src="../jquery.typingSkillTraining.js"></script>
  <script type="text/javascript">
    $(function(){
      var ta1 = $("#textarea1")
        , btnEnable1 = $("#enableTypingSkillTraining1")
        , btnDisable1 = $("#disableTypingSkillTraining1")
        , typingSkillTraining1
      ;

      //clean textAreas
      ta1.val("");

      var blink = function(eleId){
        $(eleId)
          .stop()
          .animate({
            backgroundColor: "#5f5"
          }, 50 )
          .animate({
            backgroundColor: "#fff"
          }, 50 );
      };

      var printProperties = function(obj){
        if(obj === undefined){
          return;
        }
        var props = Object.getOwnPropertyNames(obj);
        var result = "";
        for (var i = 0; i < props.length; i++) {
          var item = props[i];

          if(i > 0){
            result += "\n";
          }
          result += item;
          result += ":";
          result += obj[props[i]];
        };

        return result;
      }

      ta1.typingSkillTraining({
          onDisable: function(){
          blink("#disabled");
        }

        , onEnable: function(){
          blink("#enabled");
        }

        , onKeyup: function(opt){
          blink("#keyup");
          $("#keyup").text(printProperties(opt));
        }

        , onFail: function(){
          blink("#fail");
        }

        , onSuccess: function(opt){
          blink("#success");
          $("#success").text(printProperties(opt));
        }

        , onProgress: function(opt){
          blink("#progress");
          $("#progress").text(printProperties(opt));
        }

      });      

      btnDisable1.click(function(){
        ta1.data("typingSkillTraining").off();
      });

    });
  </script>

</body>
</html>
