<html>
<head>
  <title>SandBox</title>
</head>
<body>
  <div>
    <p>textarea1</p>
    <textarea id="textarea1"></textarea>
    <button id="enableKonami1">enable konami 1</button>
    <button id="disableKonami1">disable konami 1</button>

    <p>textarea2 (without event.stopPropagation -> see console)</p>
    <textarea id="textarea2"></textarea>
    <button id="enableKonami2">enable konami 2</button>
    <button id="disableKonami2">disable konami 2</button>
  </div>

  <script type="text/javascript" src="../../bower_components/jquery/jquery.js"></script>
  <script type="text/javascript" src="../jquery.konami.js"></script>
  <script type="text/javascript">
    $(function(){

      var   ta1 = $("#textarea1")
          , ta2 = $("#textarea2")
          , btnEnable1 = $("#enableKonami1")
          , btnEnable2 = $("#enableKonami2")
          , btnDisable1 = $("#disableKonami1")
          , btnDisable2 = $("#disableKonami2")
          , konami1
          , konami2
      ;


      btnEnable1.click(function(){
        ta1.konami(); //thats is not working
      });
      btnEnable2.click(function(){
        ta2.konami();
      });
      btnDisable1.click(function(){
        ta1.konami.off(); //thats is not working
      });
      btnDisable2.click(function(){
        ta2.konami.off();
      });

      ta1.on("konami.enabled", function() {console.log("#textarea1.konami.enabled")});
      ta2.on("konami.enabled", function() {console.log("#textarea2.konami.enabled")});
      ta1.on("konami.disabled", function(){console.log("#textarea1.konami.disabled")});
      ta2.on("konami.disabled", function(){console.log("#textarea2.konami.disabled")});

      konami1 = ta1.konami();
      konami2 = ta2.konami();

      ta1.on("konami.keyup", function(ev, opt){
        ev.stopPropagation();
        console.log("#textarea1 ==> konami.keyup ==> ", opt.which)
      });
      ta2.on("konami.keyup", function(ev, opt){
        ev.stopPropagation();
        console.log("#textarea2 ==> konami.keyup ==> ", opt.which)
      });

      $("body").on("konami.keyup", function(ev, opt){
        console.log("event propagation -> body.konami.keyup")
      });
    });
  </script>

</body>
</html>
