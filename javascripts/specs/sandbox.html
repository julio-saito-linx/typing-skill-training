<html>
<head>
  <title>Typing Skill Training Sandbox</title>
  <meta charset="UTF-8">
</head>
<body>
  <h1>Typing Skill Training Sandbox</h1>
  <div>
    <textarea id="textarea1"></textarea>
    <button id="enableTypingSkillTraining1">$("#textarea1").typingSkillTraining()</button>
    <button id="disableTypingSkillTraining1">$("#textarea1").data("typingSkillTraining").off()</button>
    <p>events:</p>
    <p><button id="enabled">&nbsp;</button>$("#textarea1").typingSkillTraining.enabled</p>
    <p><button id="disabled">&nbsp;</button>$("#textarea1").typingSkillTraining.disabled</p>
    <p><button id="keyup">&nbsp;</button>$("#textarea1").typingSkillTraining.keyup</p>
    <p>$("#textarea1").typingSkillTraining.progress: <pre id="progress">&nbsp;</pre></p>
    <p><button id="fail">&nbsp;</button>$("#textarea1").typingSkillTraining.fail</p>
    <p>$("#textarea1").typingSkillTraining.success: <pre id="success">&nbsp;</pre></p>

  </div>

  <script type="text/javascript" src="../../bower_components/jquery/jquery.js"></script>
  <script type="text/javascript" src="../jquery.typingSkillTraining.js"></script>
  <script type="text/javascript">
    $(function(){
      var ta1 = $("#textarea1")
        , btnEnable1 = $("#enableTypingSkillTraining1")
        , btnDisable1 = $("#disableTypingSkillTraining1")
        , typingSkillTraining1
      ;

      //clean textAreas
      ta1.val("");

      var blink = function(eleId){
        $(eleId)
          .stop()
          .fadeOut(20)
          .fadeIn(20)
          .fadeOut(50)
          .fadeIn(100);
      };

      var printProperties = function(obj){
        if(obj === undefined){
          return;
        }
        var props = Object.getOwnPropertyNames(obj);
        var result = "";
        for (var i = 0; i < props.length; i++) {
          var item = props[i];

          if(i > 0){
            result += "\n";
          }
          result += item;
          result += ":";
          result += obj[props[i]];
        };

        return result;
      }

      //set click events to buttons
      btnEnable1.click(function(){
        ta1.typingSkillTraining({
            onDisable: function(){
            blink("#disabled");
          }

          , onEnable: function(){
            blink("#enabled");
          }

          , onKeyup: function(opt){
            $("#keyup").text(printProperties(opt));
          }

          , onFail: function(){
            blink("#fail");
          }

          , onSuccess: function(opt){
            $("#success").text(printProperties(opt));
          }

          , onProgress: function(opt){
            $("#progress").text(printProperties(opt));
          }

        });
      });

      btnDisable1.click(function(){
        ta1.data("typingSkillTraining").off();
      });

    });
  </script>

</body>
</html>
